if !isfile(joinpath(dirname(@__FILE__), "Defaults.jl"))
    info("Default units, dimensions, and logic are set in ",
        "$(escape_string(joinpath(dirname(@__FILE__), "Defaults.jl")))")
    open(joinpath(dirname(@__FILE__), "Defaults.jl"), "w") do f
        print(f, """
        # Default dimensions and their abbreviations.
        # The dimension symbols are generated by tab completion: \\mbfL is ğ‹, etc.
        # This is kind of a compromise on polluting the namespace.
        @dimension ğ‹ "ğ‹" Length
        @dimension ğŒ "ğŒ" Mass
        @dimension ğ“ "ğ“" Time
        @dimension ğˆ "ğˆ" Current
        @dimension ğš¯ "ğš¯" Temperature    # This one is \\mbfTheta
        @dimension ğ "ğ" Amount
        @dimension ğ‰ "ğ‰" Luminosity
        @dimension âˆ  "âˆ " Angle          # This one is just \\angle

        # Define derived dimensions.
        @derived_dimension Area         ğ‹^2
        @derived_dimension Volume       ğ‹^3
        @derived_dimension Frequency    ğ“^-1
        @derived_dimension Force        ğŒ*ğ‹/ğ“^2
        @derived_dimension Energy       ğŒ*ğ‹^2/ğ“^2
        @derived_dimension Momentum     ğŒ*ğ‹/ğ“
        @derived_dimension Power        ğ‹^2*ğŒ*ğ“^-3
        @derived_dimension Voltage      ğˆ^-1*ğ‹^2*ğŒ*ğ“^-3

        # Define base units. This is not to imply g is the base SI unit instead of kg.
        # See the documentation for further details.
        # #key:   Symbol  Display  Name      Dimension
        @refunit  m       "m"      Meter     ğ‹
        @refunit  s       "s"      Second    ğ“
        @refunit  A       "A"      Ampere    ğˆ
        @refunit  K       "K"      Kelvin    ğš¯
        @refunit  cd      "cd"     Candela   ğ‰
        @refunit  mol     "mol"    Mole      ğ
        @refunit  g       "g"      Gram      ğŒ
        @refunit  rad     "rad"    Radian    âˆ 

        # These lines allow for Î¼ to be typed with option-m on a Mac.
        # The character encodings are different here so this is less crazy than it looks
        const  Âµm = Î¼m

        # Length
        #key: Symbol Display    Name        Equivalent to           10^n prefixes?
        @unit mi     "mi"       Mile        (201168//125)*m         false
        @unit yd     "yd"       Yard        (9144//10000)*m         false
        @unit ft     "ft"       Foot        (3048//10000)*m         false
        @unit inch   "in"       Inch        (254//10000)*m          false

        # Area
        @unit ac     "ac"       Acre        (316160658//78125)*m^2  false
        @unit a      "a"        Are         100m^2                  false

        # The hectare is used more frequently than any other power-of-ten of an are.
        const  ha = Unitful.Units{(Unitful.Unit{:Are}(2,1//1),)}()

        # Time
        @unit minute "min"      Minute      60s                     false
        @unit hr     "hr"       Hour        3600s                   false
        @unit d      "dy"       Day         86400s                  false
        @unit wk     "wk"       Week        604800s                 false

        # Angle
        @unit Â°       "Â°"       Degree      (pi/180)*rad           false
        import Base: sin, cos, tan, cot, sec, csc
        for y in [:sin, :cos, :tan, :cot, :sec, :csc]
            @eval (\$y){T,D}(x::Quantity{T,D,typeof(Â°)}) = (\$y)(x.val*pi/180)
            @eval (\$y){T,D}(x::Quantity{T,D,typeof(rad)}) = (\$y)(x.val)
        end

        # Temperature
        @unit Â°Ra    "Â°Ra"      Rankine     (5//9)*K                false
        @unit Â°C     "Â°C"       Celsius     1K                      false
        Unitful.offsettemp(::Unitful.Unit{:Celsius}) = 27315//100
        @unit Â°F     "Â°F"       Fahrenheit  (5//9)*K                false
        Unitful.offsettemp(::Unitful.Unit{:Fahrenheit}) = 45967//100

        # SI and related units
        @unit N      "N"        Newton      1kg*m/s^2               true
        @unit Pa     "Pa"       Pascal      1N/m^2                  true
        @unit J      "J"        Joule       1N*m                    true
        @unit W      "W"        Watt        1J/s                    true
        @unit C      "C"        Coulomb     1A*s                    true
        @unit V      "V"        Volt        1W/A                    true

        const q = 1.6021766208e-19*C        # CODATA 2014; `e` means 2.718...
        @unit eV     "eV"       eV          q*V                     true
        @unit Î©      "Î©"        Ohm         1V/A                    true
        @unit S      "S"        Siemens     1/Î©                     true
        @unit F      "F"        Farad       1s^4*A^2/(kg*m^2)       true
        @unit H      "H"        Henry       1J/(A^2)                true
        @unit T      "T"        Tesla       1kg/(A*s^2)             true
        @unit Wb     "Wb"       Weber       1kg*m^2/(A*s^2)         true

        # Constants (2014 CODATA values)    (uncertainties in final digits)
        const c0 = 299_792_458*m/s          # exact
        const c  = c0
        const Î¼0 = 4Ï€*(1//10)^7*H/m         # exact (but gets promoted to Float64...)
        const Âµ0 = Î¼0                       # magnetic constant
        const É›0 = 1/(Î¼0*c^2)               # exact, electric constant
        const Ïµ0 = É›0
        const Z0 = Î¼0*c                     # exact, impedance of free space
        const G  = 6.674_08e-11*m^3/kg/s^2  # (31) gravitational constant
        const h  = 6.626_070_040e-34*J*s    # (81) Planck constant
        const Ä§  = h/2Ï€                     # hbar
        const q  = 1.602_176_620_8e-19*C    # (98)  `e` means 2.718... so we use q
                                            # elementary charge
        const Î¦0 = h/(2q)                   # Superconducting magnetic flux quantum
        const me = 9.109_383_56e-31*kg      # (11) electron rest mass
        const mn = 1.674_927_471e-27*kg     # (21) neutron rest mass
        const mp = 1.672_621_898e-27*kg     # (21) proton rest mass
        const Î¼B = e*Ä§/(2*me)               # Bohr magneton
        const Na = 6.022_140_857e23/mol     # (74) Avogadro constant
        const R  = 8.314_459_8*J/(mol*K)    # (48) molar gass constant
        const k  = 1.380_648_52e-23*(J/K)   # (79) Boltzmann constant
        const Ïƒ  = Ï€^2*k^4/(60*Ä§^3*c^2)     # Stefan-Boltzmann constant

        # Default rules for addition and subtraction.
        for op in [:+, :-]
            # Can change to min(x,y), x, or y
            @eval (\$op)(x::Unitful.Units, y::Unitful.Units) = max(x,y)
        end

        \"\"\"
        ```
        dB(numerator::Voltage, denominator::Voltage)
        ```

        Give the ratio of two voltages in dB.
        \"\"\"
        function dB(numerator::Voltage, denominator::Voltage)
            20*log10(numerator/denominator)
        end

        \"\"\"
        ```
        dB(numerator::Power, denominator::Power)
        ```

        Give the ratio of two powers in dB.
        \"\"\"
        function dB(numerator::Power, denominator::Power)
            10*log10(numerator/denominator)
        end
        """)
    end
end
